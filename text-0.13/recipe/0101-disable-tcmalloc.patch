diff --git a/build_tools/setup_helpers/extension.py b/build_tools/setup_helpers/extension.py
index 1882073c..a1134aab 100644
--- a/build_tools/setup_helpers/extension.py
+++ b/build_tools/setup_helpers/extension.py
@@ -64,6 +64,8 @@ class CMakeBuild(build_ext):
             f"-DCMAKE_PREFIX_PATH={torch.utils.cmake_prefix_path}",
             f"-DCMAKE_INSTALL_PREFIX={extdir}",
             "-DCMAKE_VERBOSE_MAKEFILE=ON",
+            "-DCMAKE_CUDA_COMPILER=${CUDA_HOME}/bin/nvcc",
+            "-DCMAKE_CUDA_HOST_COMPILER=$GXX"
             f"-DPython_INCLUDE_DIR={distutils.sysconfig.get_python_inc()}",
             "-DBUILD_TORCHTEXT_PYTHON_EXTENSION:BOOL=ON",
             "-DRE2_BUILD_TESTING:BOOL=OFF",
@@ -71,6 +73,7 @@ class CMakeBuild(build_ext):
             "-DBUILD_SHARED_LIBS=OFF",
             "-DCMAKE_POLICY_DEFAULT_CMP0063=NEW",
             "-DSPM_ENABLE_SHARED=OFF",
+            "-DSPM_ENABLE_TCMALLOC=OFF",
         ]
         build_args = ["--target", "install"]
 
